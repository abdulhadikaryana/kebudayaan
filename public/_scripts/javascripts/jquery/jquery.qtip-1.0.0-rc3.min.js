/*!
 * jquery.qtip. The jQuery tooltip plugin
 *
 * Copyright (c) 2009 Craig Thompson
 * http://craigsworks.com
 *
 * Licensed under MIT
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Launch  : February 2009
 * Version : 1.0.0-rc3
 * Released: Tuesday 12th May, 2009 - 00:00
 * Debug: jquery.qtip.debug.js
 */
(function(a){var U="mouseover",T="mouseout",S='<div class="',R='<v:image style="behavior:url(#default#VML);"></v:image>',m="px; ",Q="px; height:",P='style="width:',O='" width="',N='<canvas height="',y="px; width:",D="unfocus",C="hidden",B="mouseover.qtip",q=".qtip",M="mousemove.qtip",A="div.qtip[qtip]",z=":visible",x="2d",j="<canvas>",p="number",L="mousemove",o="rel",l="mouse",w="fade",K="div.qtip",h="static",v="none",u="display",f=null,t="undefined",n="disable",s="focus",G="hide",F="show",E="destroy",c=true,k="api",b=false,d="object",e="qtip",g="string";a.fn.qtip=function(f,v){var u="interfaces",r=this,i,p,j,m,q,l,h,o;if(typeof f==g){typeof a(r).data(e)!==d&&a.fn.qtip.log.error.call(self,1,a.fn.qtip.constants.NO_TOOLTIP_PRESENT,b);if(f==k)return a(r).data(e).interfaces[a(r).data(e).current];else if(f==u)return a(r).data(e).interfaces}else{if(!f)f={};if(typeof f.content!==d||f.content.jquery&&f.content.length>0)f.content={text:f.content};if(typeof f.content.title!==d)f.content.title={text:f.content.title};if(typeof f.position!==d)f.position={corner:f.position};if(typeof f.position.corner!==d)f.position.corner={target:f.position.corner,tooltip:f.position.corner};if(typeof f.show!==d)f.show={when:f.show};if(typeof f.show.when!==d)f.show.when={event:f.show.when};if(typeof f.show.effect!==d)f.show.effect={type:f.show.effect};if(typeof f.hide!==d)f.hide={when:f.hide};if(typeof f.hide.when!==d)f.hide.when={event:f.hide.when};if(typeof f.hide.effect!==d)f.hide.effect={type:f.hide.effect};if(typeof f.style!==d)f.style={name:f.style};f.style=I(f.style);m=a.extend(c,{},a.fn.qtip.defaults,f);m.style=W.call({options:m},m.style);m.user=a.extend(c,{},f)}return a(r).each(function(){var r=this;if(typeof f==g){l=f.toLowerCase();j=a(r).qtip(u);if(typeof j==d)if(v===c&&l==E)while(j.length>0)j[j.length-1].destroy();else{if(v!==c)j=[a(r).qtip(k)];for(i=0;i<j.length;i++)if(l==E)j[i].destroy();else if(j[i].status.rendered===c)if(l==F)j[i].show();else if(l==G)j[i].hide();else if(l==s)j[i].focus();else if(l==n)j[i].disable(c);else l=="enable"&&j[i].disable(b)}}else{h=a.extend(c,{},m);h.hide.effect.length=m.hide.effect.length;h.show.effect.length=m.show.effect.length;if(h.position.container===b)h.position.container=a(document.body);if(h.position.target===b)h.position.target=a(r);if(h.show.when.target===b)h.show.when.target=a(r);if(h.hide.when.target===b)h.hide.when.target=a(r);p=a.fn.qtip.interfaces.length;for(i=0;i<p;i++)if(typeof a.fn.qtip.interfaces[i]==t){p=i;break}q=new gb(a(r),h,p);a.fn.qtip.interfaces[p]=q;if(typeof a(r).data(e)===d&&a(r).data(e)){if(typeof a(r).attr(e)===t)a(r).data(e).current=a(r).data(e).interfaces.length;a(r).data(e).interfaces.push(q)}else a(r).data(e,{current:0,interfaces:[q]});if(h.content.prerender===b&&h.show.when.event!==b&&h.show.ready!==c)h.show.when.target.bind(h.show.when.event+".qtip-"+p+"-create",{qtip:p},function(b){o=a.fn.qtip.interfaces[b.data.qtip];o.options.show.when.target.unbind(o.options.show.when.event+".qtip-"+b.data.qtip+"-create");o.cache.mouse={x:b.pageX,y:b.pageY};Y.call(o);o.options.show.when.target.trigger(o.options.show.when.event)});else{q.cache.mouse={x:h.show.when.target.offset().left,y:h.show.when.target.offset().top};Y.call(q)}}})};function gb(N,I,O){var m="loadContent",D=".qtip-betweenCorners",y="function",i=this;i.id=O;i.options=I;i.status={animated:b,rendered:b,disabled:b,focused:b};i.elements={target:N.addClass(i.options.style.classes.target),tooltip:f,wrapper:f,content:f,contentWrapper:f,title:f,button:f,tip:f,bgiframe:f};i.cache={mouse:{},position:{},toggle:0};i.timers={};a.extend(i,i.options.api,{show:function(g){var l,j;if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,F);if(i.elements.tooltip.css(u)!==v)return i;i.elements.tooltip.stop(c,b);l=i.beforeShow.call(i,g);if(l===b)return i;function e(){i.options.position.type!==h&&i.focus();i.onShow.call(i,g);a.browser.msie&&i.elements.tooltip.get(0).style.removeAttribute("filter")}i.cache.toggle=1;i.options.position.type!==h&&i.updatePosition(g,i.options.show.effect.length>0);if(typeof i.options.show.solo==d)j=a(i.options.show.solo);else if(i.options.show.solo===c)j=a(K).not(i.elements.tooltip);j&&j.each(function(){a(this).qtip(k).status.rendered===c&&a(this).qtip(k).hide()});if(typeof i.options.show.effect.type==y){i.options.show.effect.type.call(i.elements.tooltip,i.options.show.effect.length);i.elements.tooltip.queue(function(){e();a(this).dequeue()})}else{switch(i.options.show.effect.type.toLowerCase()){case w:i.elements.tooltip.fadeIn(i.options.show.effect.length,e);break;case"slide":i.elements.tooltip.slideDown(i.options.show.effect.length,function(){e();i.options.position.type!==h&&i.updatePosition(g,c)});break;case"grow":i.elements.tooltip.show(i.options.show.effect.length,e);break;default:i.elements.tooltip.show(f,e)}i.elements.tooltip.addClass(i.options.style.classes.active)}return a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_SHOWN,F)},hide:function(g){var e;if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,G);else if(i.elements.tooltip.css(u)===v)return i;clearTimeout(i.timers.show);i.elements.tooltip.stop(c,b);e=i.beforeHide.call(i,g);if(e===b)return i;function d(){i.onHide.call(i,g)}i.cache.toggle=0;if(typeof i.options.hide.effect.type==y){i.options.hide.effect.type.call(i.elements.tooltip,i.options.hide.effect.length);i.elements.tooltip.queue(function(){d();a(this).dequeue()})}else{switch(i.options.hide.effect.type.toLowerCase()){case w:i.elements.tooltip.fadeOut(i.options.hide.effect.length,d);break;case"slide":i.elements.tooltip.slideUp(i.options.hide.effect.length,d);break;case"grow":i.elements.tooltip.hide(i.options.hide.effect.length,d);break;default:i.elements.tooltip.hide(f,d)}i.elements.tooltip.removeClass(i.options.style.classes.active)}return a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_HIDDEN,G)},updatePosition:function(r,z){var s="updatePosition",m,d,j,g,x,n,f,q,y,A,u,p,v,w;if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,s);else if(i.options.position.type==h)return a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.CANNOT_POSITION_STATIC,s);d={position:{left:0,top:0},dimensions:{height:0,width:0},corner:i.options.position.corner.target};j={position:i.getPosition(),dimensions:i.getDimensions(),corner:i.options.position.corner.tooltip};if(i.options.position.target!==l){if(i.options.position.target.get(0).nodeName.toLowerCase()=="area"){g=i.options.position.target.attr("coords").split(",");for(m=0;m<g.length;m++)g[m]=parseInt(g[m]);x=i.options.position.target.parent("map").attr("name");n=a('img[usemap="#'+x+'"]:first').offset();d.position={left:Math.floor(n.left+g[0]),top:Math.floor(n.top+g[1])};switch(i.options.position.target.attr("shape").toLowerCase()){case"rect":d.dimensions={width:Math.ceil(Math.abs(g[2]-g[0])),height:Math.ceil(Math.abs(g[3]-g[1]))};break;case"circle":d.dimensions={width:g[2]+1,height:g[2]+1};break;case"poly":d.dimensions={width:g[0],height:g[1]};for(m=0;m<g.length;m++)if(m%2==0){if(g[m]>d.dimensions.width)d.dimensions.width=g[m];if(g[m]<g[0])d.position.left=Math.floor(n.left+g[m])}else{if(g[m]>d.dimensions.height)d.dimensions.height=g[m];if(g[m]<g[1])d.position.top=Math.floor(n.top+g[m])}d.dimensions.width=d.dimensions.width-(d.position.left-n.left);d.dimensions.height=d.dimensions.height-(d.position.top-n.top);break;default:return a.fn.qtip.log.error.call(i,4,a.fn.qtip.constants.INVALID_AREA_SHAPE,s)}d.dimensions.width-=2;d.dimensions.height-=2}else if(i.options.position.target.add(document.body).length===1){d.position={left:a(document).scrollLeft(),top:a(document).scrollTop()};d.dimensions={height:a(window).height(),width:a(window).width()}}else{if(typeof i.options.position.target.attr(e)!==t)d.position=i.options.position.target.qtip(k).cache.position;else d.position=i.options.position.target.offset();d.dimensions={height:i.options.position.target.outerHeight(),width:i.options.position.target.outerWidth()}}f=a.extend({},d.position);if(d.corner.search(/right/i)!==-1)f.left+=d.dimensions.width;if(d.corner.search(/bottom/i)!==-1)f.top+=d.dimensions.height;if(d.corner.search(/((top|bottom)Middle)|center/)!==-1)f.left+=d.dimensions.width/2;if(d.corner.search(/((left|right)Middle)|center/)!==-1)f.top+=d.dimensions.height/2}else{d.position=f={left:i.cache.mouse.x,top:i.cache.mouse.y};d.dimensions={height:1,width:1}}if(j.corner.search(/right/i)!==-1)f.left-=j.dimensions.width;if(j.corner.search(/bottom/i)!==-1)f.top-=j.dimensions.height;if(j.corner.search(/((top|bottom)Middle)|center/)!==-1)f.left-=j.dimensions.width/2;if(j.corner.search(/((left|right)Middle)|center/)!==-1)f.top-=j.dimensions.height/2;q=a.browser.msie?1:0;y=a.browser.msie&&parseInt(a.browser.version.charAt(0))===6?1:0;if(i.options.style.border.radius>0){if(j.corner.search(/Left/)!==-1)f.left-=i.options.style.border.radius;else if(j.corner.search(/Right/)!==-1)f.left+=i.options.style.border.radius;if(j.corner.search(/Top/)!==-1)f.top-=i.options.style.border.radius;else if(j.corner.search(/Bottom/)!==-1)f.top+=i.options.style.border.radius}if(q){if(j.corner.search(/top/)!==-1)f.top-=q;else if(j.corner.search(/bottom/)!==-1)f.top+=q;if(j.corner.search(/left/)!==-1)f.left-=q;else if(j.corner.search(/right/)!==-1)f.left+=q;if(j.corner.search(/leftMiddle|rightMiddle/)!==-1)f.top-=1}if(i.options.position.adjust.screen===c)f=db.call(i,f,d,j);if(i.options.position.target===l&&i.options.position.adjust.mouse===c){if(i.options.position.adjust.screen===c&&i.elements.tip)u=i.elements.tip.attr(o);else u=i.options.position.corner.tooltip;f.left+=u.search(/right/i)!==-1?-6:6;f.top+=u.search(/bottom/i)!==-1?-6:6}!i.elements.bgiframe&&a.browser.msie&&parseInt(a.browser.version.charAt(0))==6&&a("select, object").each(function(){p=a(this).offset();p.bottom=p.top+a(this).height();p.right=p.left+a(this).width();f.top+j.dimensions.height>=p.top&&f.left+j.dimensions.width>=p.left&&fb.call(i)});f.left+=i.options.position.adjust.x;f.top+=i.options.position.adjust.y;v=i.getPosition();if(f.left!=v.left||f.top!=v.top){w=i.beforePositionUpdate.call(i,r);if(w===b)return i;i.cache.position=f;if(z===c){i.status.animated=c;i.elements.tooltip.animate(f,200,"swing",function(){i.status.animated=b})}else i.elements.tooltip.css(f);i.onPositionUpdate.call(i,r);typeof r!==t&&r.type&&r.type!==L&&a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_POSITION_UPDATED,s)}return i},updateWidth:function(b){var c="updateWidth",d;if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,c);else if(b&&typeof b!==p)return a.fn.qtip.log.error.call(i,2,"newWidth must be of type number",c);d=i.elements.contentWrapper.siblings().add(i.elements.tip).add(i.elements.button);if(!b)if(typeof i.options.style.width.value==p)b=i.options.style.width.value;else{i.elements.tooltip.css({width:"auto"});d.hide();a.browser.msie&&i.elements.wrapper.add(i.elements.contentWrapper.children()).css({zoom:"normal"});b=i.getDimensions().width+1;if(!i.options.style.width.value){if(b>i.options.style.width.max)b=i.options.style.width.max;if(b<i.options.style.width.min)b=i.options.style.width.min}}if(b%2!==0)b-=1;i.elements.tooltip.width(b);d.show();i.options.style.border.radius&&i.elements.tooltip.find(D).each(function(){a(this).width(b-i.options.style.border.radius*2)});if(a.browser.msie){i.elements.wrapper.add(i.elements.contentWrapper.children()).css({zoom:"1"});i.elements.wrapper.width(b);i.elements.bgiframe&&i.elements.bgiframe.width(b).height(i.getDimensions.height)}return a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_WIDTH_UPDATED,c)},updateStyle:function(k){var m="fillcolor",l="div[rel]:first",h="updateStyle",d,p,e,f,n;if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,h);else if(typeof k!==g||!a.fn.qtip.styles[k])return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.STYLE_NOT_DEFINED,h);i.options.style=W.call(i,a.fn.qtip.styles[k],i.options.user.style);i.elements.content.css(r(i.options.style));i.options.content.title.text!==b&&i.elements.title.css(r(i.options.style.title,c));i.elements.contentWrapper.css({borderColor:i.options.style.border.color});if(i.options.style.tip.corner!==b)if(a(j).get(0).getContext){d=i.elements.tooltip.find(".qtip-tip canvas:first");e=d.get(0).getContext(x);e.clearRect(0,0,300,300);f=d.parent(l).attr(o);n=J(f,i.options.style.tip.size.width,i.options.style.tip.size.height);ab.call(i,d,n,i.options.style.tip.color||i.options.style.border.color)}else if(a.browser.msie){d=i.elements.tooltip.find('.qtip-tip [nodeName="shape"]');d.attr(m,i.options.style.tip.color||i.options.style.border.color)}if(i.options.style.border.radius>0){i.elements.tooltip.find(D).css({backgroundColor:i.options.style.border.color});if(a(j).get(0).getContext){p=H(i.options.style.border.radius);i.elements.tooltip.find(".qtip-wrapper canvas").each(function(){e=a(this).get(0).getContext(x);e.clearRect(0,0,300,300);f=a(this).parent(l).attr(o);X.call(i,a(this),p[f],i.options.style.border.radius,i.options.style.border.color)})}else a.browser.msie&&i.elements.tooltip.find('.qtip-wrapper [nodeName="arc"]').each(function(){a(this).attr(m,i.options.style.border.color)})}return a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_STYLE_UPDATED,h)},updateContent:function(d,n){var k="updateContent",e,f,j;if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,k);else if(!d)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.NO_CONTENT_PROVIDED,k);e=i.beforeContentUpdate.call(i,d);if(typeof e==g)d=e;else if(e===b)return;a.browser.msie&&i.elements.contentWrapper.children().css({zoom:"normal"});if(d.jquery&&d.length>0)d.clone(c).appendTo(i.elements.content).show();else i.elements.content.html(d);f=i.elements.content.find("img[complete=false]");if(f.length>0){j=0;f.each(function(){a('<img src="'+a(this).attr("src")+'" />').load(function(){++j==f.length&&l()})})}else l();function l(){i.updateWidth();if(n!==b){i.options.position.type!==h&&i.updatePosition(i.elements.tooltip.is(z),c);i.options.style.tip.corner!==b&&V.call(i)}}i.onContentUpdate.call(i);return a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_CONTENT_UPDATED,m)},loadContent:function(f,e,g){var d;if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,m);d=i.beforeContentLoad.call(i);if(d===b)return i;if(g=="post")a.post(f,e,c);else a.get(f,e,c);function c(b){i.onContentLoad.call(i);a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_CONTENT_LOADED,m);i.updateContent(b)}return i},updateTitle:function(e){var d="updateTitle";if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,d);else if(!e)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.NO_CONTENT_PROVIDED,d);returned=i.beforeTitleUpdate.call(i);if(returned===b)return i;if(i.elements.button)i.elements.button=i.elements.button.clone(c);i.elements.title.html(e);i.elements.button&&i.elements.title.prepend(i.elements.button);i.onTitleUpdate.call(i);return a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_TITLE_UPDATED,d)},focus:function(l){var d="z-index",g,f,e,j;if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,s);else if(i.options.position.type==h)return a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.CANNOT_FOCUS_STATIC,s);g=parseInt(i.elements.tooltip.css(d));f=6e3+a(A).length-1;if(!i.status.focused&&g!==f){j=i.beforeFocus.call(i,l);if(j===b)return i;a(A).not(i.elements.tooltip).each(function(){var f=this;if(a(f).qtip(k).status.rendered===c){e=parseInt(a(f).css(d));typeof e==p&&e>-1&&a(f).css({zIndex:parseInt(a(f).css(d))-1});a(f).qtip(k).status.focused=b}});i.elements.tooltip.css({zIndex:f});i.status.focused=c;i.onFocus.call(i,l);a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_FOCUSED,s)}return i},disable:function(d){if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,n);if(d)if(!i.status.disabled){i.status.disabled=c;a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_DISABLED,n)}else a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.TOOLTIP_ALREADY_DISABLED,n);else if(i.status.disabled){i.status.disabled=b;a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_ENABLED,n)}else a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.TOOLTIP_ALREADY_ENABLED,n);return i},destroy:function(){var f,g,c;g=i.beforeDestroy.call(i);if(g===b)return i;if(i.status.rendered){i.options.show.when.target.unbind(M,i.updatePosition);i.options.show.when.target.unbind("mouseout.qtip",i.hide);i.options.show.when.target.unbind(i.options.show.when.event+q);i.options.hide.when.target.unbind(i.options.hide.when.event+q);i.elements.tooltip.unbind(i.options.hide.when.event+q);i.elements.tooltip.unbind(B,i.focus);i.elements.tooltip.remove()}else i.options.show.when.target.unbind(i.options.show.when.event+".qtip-create");if(typeof i.elements.target.data(e)==d){c=i.elements.target.data(e).interfaces;if(typeof c==d&&c.length>0)for(f=0;f<c.length-1;f++)c[f].id==i.id&&c.splice(f,1)}delete a.fn.qtip.interfaces[i.id];if(typeof c==d&&c.length>0)i.elements.target.data(e).current=c.length-1;else i.elements.target.removeData(e);i.onDestroy.call(i);a.fn.qtip.log.error.call(i,1,a.fn.qtip.constants.EVENT_DESTROYED,E);return i.elements.target},getPosition:function(){var d,e;if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getPosition");d=i.elements.tooltip.css(u)!==v?b:c;d&&i.elements.tooltip.css({visiblity:C}).show();e=i.elements.tooltip.offset();d&&i.elements.tooltip.css({visiblity:"visible"}).hide();return e},getDimensions:function(){var d,e;if(!i.status.rendered)return a.fn.qtip.log.error.call(i,2,a.fn.qtip.constants.TOOLTIP_NOT_RENDERED,"getDimensions");d=!i.elements.tooltip.is(z)?c:b;d&&i.elements.tooltip.css({visiblity:C}).show();e={height:i.elements.tooltip.outerHeight(),width:i.elements.tooltip.outerWidth()};d&&i.elements.tooltip.css({visiblity:"visible"}).hide();return e}})}function Y(){var i="alt",h="title",l="render",m="px solid ",k="div:first",d,t,f,q,o,n,s;d=this;d.beforeRender.call(d);d.status.rendered=c;d.elements.tooltip='<div qtip="'+d.id+'" class="qtip '+(d.options.style.classes.tooltip||d.options.style)+'"style="display:none; -moz-border-radius:0; -webkit-border-radius:0; border-radius:0;position:'+d.options.position.type+';">  <div class="qtip-wrapper" style="position:relative; overflow:hidden; text-align:left;">    <div class="qtip-contentWrapper" style="overflow:hidden;">       <div class="qtip-content '+d.options.style.classes.content+'"></div></div></div></div>';d.elements.tooltip=a(d.elements.tooltip);d.elements.tooltip.appendTo(d.options.position.container);d.elements.tooltip.data(e,{current:0,interfaces:[d]});d.elements.wrapper=d.elements.tooltip.children(k);d.elements.contentWrapper=d.elements.wrapper.children(k).css({background:d.options.style.background});d.elements.content=d.elements.contentWrapper.children(k).css(r(d.options.style));a.browser.msie&&d.elements.wrapper.add(d.elements.content).css({zoom:1});d.options.hide.when.event==D&&d.elements.tooltip.attr(D,c);typeof d.options.style.width.value==p&&d.updateWidth();if(a(j).get(0).getContext||a.browser.msie){if(d.options.style.border.radius>0)cb.call(d);else d.elements.contentWrapper.css({border:d.options.style.border.width+m+d.options.style.border.color});d.options.style.tip.corner!==b&&Z.call(d)}else{d.elements.contentWrapper.css({border:d.options.style.border.width+m+d.options.style.border.color});d.options.style.border.radius=0;d.options.style.tip.corner=b;a.fn.qtip.log.error.call(d,2,a.fn.qtip.constants.CANVAS_VML_NOT_SUPPORTED,l)}if(typeof d.options.content.text==g&&d.options.content.text.length>0||d.options.content.text.jquery&&d.options.content.text.length>0)f=d.options.content.text;else if(typeof d.elements.target.attr(h)==g&&d.elements.target.attr(h).length>0){f=d.elements.target.attr(h).replace("\\n","<br />");d.elements.target.attr(h,"")}else if(typeof d.elements.target.attr(i)==g&&d.elements.target.attr(i).length>0){f=d.elements.target.attr(i).replace("\\n","<br />");d.elements.target.attr(i,"")}else{f=" ";a.fn.qtip.log.error.call(d,1,a.fn.qtip.constants.NO_VALID_CONTENT,l)}d.options.content.title.text!==b&&eb.call(d);d.updateContent(f);bb.call(d);d.options.show.ready===c&&d.show();if(d.options.content.url!==b){q=d.options.content.url;o=d.options.content.data;n=d.options.content.method||"get";d.loadContent(q,o,n)}d.onRender.call(d);a.fn.qtip.log.error.call(d,1,a.fn.qtip.constants.EVENT_RENDERED,l)}function cb(){var q='px; line-height:0.1px; font-size:1px; padding:0;">',k="margin-left:",c,d,h,b,g,f,e,l,n,i,s,p,r,t,u;c=this;c.elements.wrapper.find(".qtip-borderBottom, .qtip-borderTop").remove();h=c.options.style.border.width;b=c.options.style.border.radius;g=c.options.style.border.color||c.options.style.tip.color;f=H(b);e={};for(d in f){e[d]='<div rel="'+d+'" style="'+(d.search(/Left/)!==-1?"left":"right")+":0; position:absolute; height:"+b+y+b+'px; overflow:hidden; line-height:0.1px; font-size:1px">';if(a(j).get(0).getContext)e[d]+=N+b+O+b+'" style="vertical-align: top"></canvas>';else if(a.browser.msie){l=b*2+3;e[d]+='<v:arc stroked="false" fillcolor="'+g+'" startangle="'+f[d][0]+'" endangle="'+f[d][1]+'" '+P+l+Q+l+"px; margin-top:"+(d.search(/bottom/)!==-1?-2:-1)+m+k+(d.search(/Right/)!==-1?f[d][2]-3.5:-1)+m+'vertical-align:top; display:inline-block; behavior:url(#default#VML)"></v:arc>'}e[d]+="</div>"}n=c.getDimensions().width-Math.max(h,b)*2;i='<div class="qtip-betweenCorners" style="height:'+b+y+n+m+"overflow:hidden; background-color:"+g+'; line-height:0.1px; font-size:1px;">';s='<div class="qtip-borderTop" dir="ltr" style="height:'+b+m+k+b+q+e.topLeft+e.topRight+i;c.elements.wrapper.prepend(s);p='<div class="qtip-borderBottom" dir="ltr" style="height:'+b+m+k+b+q+e.bottomLeft+e.bottomRight+i;c.elements.wrapper.append(p);if(a(j).get(0).getContext)c.elements.wrapper.find("canvas").each(function(){r=f[a(this).parent("[rel]:first").attr(o)];X.call(c,a(this),r,b,g)});else a.browser.msie&&c.elements.tooltip.append(R);t=Math.max(b,b+(h-b));u=Math.max(h-b,0);c.elements.contentWrapper.css({border:"0px solid "+g,borderWidth:u+"px "+t+"px"})}function X(d,c,e,f){var a=d.get(0).getContext(x);a.fillStyle=f;a.beginPath();a.arc(c[0],c[1],e,0,Math.PI*2,b);a.fill()}function Z(e){var c,h,d,i,g;c=this;c.elements.tip!==f&&c.elements.tip.remove();h=c.options.style.tip.color||c.options.style.border.color;if(c.options.style.tip.corner===b)return;else if(!e)e=c.options.style.tip.corner;d=J(e,c.options.style.tip.size.width,c.options.style.tip.size.height);c.elements.tip=S+c.options.style.classes.tip+'" dir="ltr" rel="'+e+'" style="position:absolute; height:'+c.options.style.tip.size.height+y+c.options.style.tip.size.width+m+'margin:0 auto; line-height:0.1px; font-size:1px;">';if(a(j).get(0).getContext)c.elements.tip+=N+c.options.style.tip.size.height+O+c.options.style.tip.size.width+'"></canvas>';else if(a.browser.msie){i=c.options.style.tip.size.width+","+c.options.style.tip.size.height;g="m"+d[0][0]+","+d[0][1];g+=" l"+d[1][0]+","+d[1][1];g+=" "+d[2][0]+","+d[2][1];g+=" xe";c.elements.tip+='<v:shape fillcolor="'+h+'" stroked="false" filled="true" path="'+g+'" coordsize="'+i+'" '+P+c.options.style.tip.size.width+Q+c.options.style.tip.size.height+m+"line-height:0.1px; display:inline-block; behavior:url(#default#VML); vertical-align:"+(e.search(/top/)!==-1?"bottom":"top")+'"></v:shape>';c.elements.tip+=R;c.elements.contentWrapper.css("position","relative")}c.elements.tooltip.prepend(c.elements.tip+"</div>");c.elements.tip=c.elements.tooltip.find("."+c.options.style.classes.tip).eq(0);a(j).get(0).getContext&&ab.call(c,c.elements.tip.find("canvas:first"),d,h);e.search(/top/)!==-1&&a.browser.msie&&parseInt(a.browser.version.charAt(0))===6&&c.elements.tip.css({marginTop:-4});V.call(c,e)}function ab(c,a,d){var b=c.get(0).getContext(x);b.fillStyle=d;b.beginPath();b.moveTo(a[0][0],a[0][1]);b.lineTo(a[1][0],a[1][1]);b.lineTo(a[2][0],a[2][1]);b.fill()}function V(d){var h="margin-top",c,e,f,i,g;c=this;if(c.options.style.tip.corner===b||!c.elements.tip)return;if(!d)d=c.elements.tip.attr(o);e=positionAdjust=a.browser.msie?1:0;c.elements.tip.css(d.match(/left|right|top|bottom/)[0],0);if(d.search(/top|bottom/)!==-1){if(a.browser.msie)if(parseInt(a.browser.version.charAt(0))===6)positionAdjust=d.search(/top/)!==-1?-3:1;else positionAdjust=d.search(/top/)!==-1?1:2;if(d.search(/Middle/)!==-1)c.elements.tip.css({left:"50%",marginLeft:-(c.options.style.tip.size.width/2)});else if(d.search(/Left/)!==-1)c.elements.tip.css({left:c.options.style.border.radius-e});else d.search(/Right/)!==-1&&c.elements.tip.css({right:c.options.style.border.radius+e});if(d.search(/top/)!==-1)c.elements.tip.css({top:-positionAdjust});else c.elements.tip.css({bottom:positionAdjust})}else if(d.search(/left|right/)!==-1){if(a.browser.msie)positionAdjust=parseInt(a.browser.version.charAt(0))===6?1:d.search(/left/)!==-1?1:2;if(d.search(/Middle/)!==-1)c.elements.tip.css({top:"50%",marginTop:-(c.options.style.tip.size.height/2)});else if(d.search(/Top/)!==-1)c.elements.tip.css({top:c.options.style.border.radius-e});else d.search(/Bottom/)!==-1&&c.elements.tip.css({bottom:c.options.style.border.radius+e});if(d.search(/left/)!==-1)c.elements.tip.css({left:-positionAdjust});else c.elements.tip.css({right:positionAdjust})}f="padding-"+d.match(/left|right|top|bottom/)[0];i=c.options.style.tip.size[f.search(/left|right/)!==-1?"width":"height"];c.elements.tooltip.css("padding",0);c.elements.tooltip.css(f,i);if(a.browser.msie&&parseInt(a.browser.version.charAt(0))==6){g=parseInt(c.elements.tip.css(h))||0;g+=parseInt(c.elements.content.css(h))||0;c.elements.tip.css({marginTop:g})}}function eb(){var d=this;d.elements.title!==f&&d.elements.title.remove();d.elements.title=a(S+d.options.style.classes.title+'">').css(r(d.options.style.title,c)).css({zoom:a.browser.msie?1:0}).prependTo(d.elements.contentWrapper);d.options.content.title.text&&d.updateTitle.call(d,d.options.content.title.text);if(d.options.content.title.button!==b&&typeof d.options.content.title.button==g)d.elements.button=a('<a class="'+d.options.style.classes.button+'" style="float:right; position: relative"></a>').css(r(d.options.style.button,c)).html(d.options.content.title.button).prependTo(d.elements.title).click(function(a){!d.status.disabled&&d.hide(a)})}function bb(){var g=".qtip-inactive",f="inactive",d,i,e,j;d=this;i=d.options.show.when.target;e=d.options.hide.when.target;if(d.options.hide.fixed)e=e.add(d.elements.tooltip);if(d.options.hide.when.event==f){j=["click","dblclick","mousedown","mouseup",L,T,"mouseenter","mouseleave",U];function k(b){if(d.status.disabled===c)return;clearTimeout(d.timers.inactive);d.timers.inactive=setTimeout(function(){a(j).each(function(){e.unbind(this+g);d.elements.content.unbind(this+g)});d.hide(b)},d.options.hide.delay)}}else d.options.hide.fixed===c&&d.elements.tooltip.bind(B,function(){if(d.status.disabled===c)return;clearTimeout(d.timers.hide)});function n(b){if(d.status.disabled===c)return;if(d.options.hide.when.event==f){a(j).each(function(){e.bind(this+g,k);d.elements.content.bind(this+g,k)});k()}clearTimeout(d.timers.show);clearTimeout(d.timers.hide);d.timers.show=setTimeout(function(){d.show(b)},d.options.show.delay)}function m(e){if(d.status.disabled===c)return;if(d.options.hide.fixed===c&&d.options.hide.when.event.search(/mouse(out|leave)/i)!==-1&&a(e.relatedTarget).parents(A).length>0){e.stopPropagation();e.preventDefault();clearTimeout(d.timers.hide);return b}clearTimeout(d.timers.show);clearTimeout(d.timers.hide);d.elements.tooltip.stop(c,c);d.timers.hide=setTimeout(function(){d.hide(e)},d.options.hide.delay)}if(d.options.show.when.target.add(d.options.hide.when.target).length===1&&d.options.show.when.event==d.options.hide.when.event&&d.options.hide.when.event!==f||d.options.hide.when.event==D){d.cache.toggle=0;i.bind(d.options.show.when.event+q,function(a){if(d.cache.toggle==0)n(a);else m(a)})}else{i.bind(d.options.show.when.event+q,n);d.options.hide.when.event!==f&&e.bind(d.options.hide.when.event+q,m)}d.options.position.type.search(/(fixed|absolute)/)!==-1&&d.elements.tooltip.bind(B,d.focus);d.options.position.target===l&&d.options.position.type!==h&&i.bind(M,function(a){d.cache.mouse={x:a.pageX,y:a.pageY};d.status.disabled===b&&d.options.position.adjust.mouse===c&&d.options.position.type!==h&&d.elements.tooltip.css(u)!==v&&d.updatePosition(a)})}function db(j,h,d){var e,c,i,f,g,k;e=this;if(d.corner=="center")return h.position;c=a.extend({},j);f={x:b,y:b};g={left:c.left<a.fn.qtip.cache.screen.scroll.left,right:c.left+d.dimensions.width+2>=a.fn.qtip.cache.screen.width+a.fn.qtip.cache.screen.scroll.left,top:c.top<a.fn.qtip.cache.screen.scroll.top,bottom:c.top+d.dimensions.height+2>=a.fn.qtip.cache.screen.height+a.fn.qtip.cache.screen.scroll.top};i={left:g.left&&(d.corner.search(/right/i)!=-1||d.corner.search(/right/i)==-1&&!g.right),right:g.right&&(d.corner.search(/left/i)!=-1||d.corner.search(/left/i)==-1&&!g.left),top:g.top&&d.corner.search(/top/i)==-1,bottom:g.bottom&&d.corner.search(/bottom/i)==-1};if(i.left){if(e.options.position.target!==l)c.left=h.position.left+h.dimensions.width;else c.left=e.cache.mouse.x;f.x="Left"}else if(i.right){if(e.options.position.target!==l)c.left=h.position.left-d.dimensions.width;else c.left=e.cache.mouse.x-d.dimensions.width;f.x="Right"}if(i.top){if(e.options.position.target!==l)c.top=h.position.top+h.dimensions.height;else c.top=e.cache.mouse.y;f.y="top"}else if(i.bottom){if(e.options.position.target!==l)c.top=h.position.top-d.dimensions.height;else c.top=e.cache.mouse.y-d.dimensions.height;f.y="bottom"}if(c.left<0){c.left=j.left;f.x=b}if(c.top<0){c.top=j.top;f.y=b}if(e.options.style.tip.corner!==b){c.corner=new String(d.corner);if(f.x!==b)c.corner=c.corner.replace(/Left|Right|Middle/,f.x);if(f.y!==b)c.corner=c.corner.replace(/top|bottom/,f.y);c.corner!==e.elements.tip.attr(o)&&Z.call(e,c.corner)}return c}function r(f,e){var b,d;b=a.extend(c,{},f);for(d in b)if(e===c&&d.search(/(tip|classes)/i)!==-1)delete b[d];else if(!e&&d.search(/(width|border|tip|title|classes|user)/i)!==-1)delete b[d];return b}function I(a){if(typeof a.tip!==d)a.tip={corner:a.tip};if(typeof a.tip.size!==d)a.tip.size={width:a.tip.size,height:a.tip.size};if(typeof a.border!==d)a.border={width:a.border};if(typeof a.width!==d)a.width={value:a.width};if(typeof a.width.max==g)a.width.max=parseInt(a.width.max.replace(/([0-9]+)/i,"$1"));if(typeof a.width.min==g)a.width.min=parseInt(a.width.min.replace(/([0-9]+)/i,"$1"));if(typeof a.tip.size.x==p){a.tip.size.width=a.tip.size.x;delete a.tip.size.x}if(typeof a.tip.size.y==p){a.tip.size.height=a.tip.size.y;delete a.tip.size.y}return a}function W(){var j,f,h,e,d,i;j=this;h=[c,{}];for(f=0;f<arguments.length;f++)h.push(arguments[f]);e=[a.extend.apply(a,h)];while(typeof e[0].name==g)e.unshift(I(a.fn.qtip.styles[e[0].name]));e.unshift(c,{classes:{tooltip:"qtip-"+(arguments[0].name||"defaults")}},a.fn.qtip.styles.defaults);d=a.extend.apply(a,e);i=a.browser.msie?1:0;d.tip.size.width+=i;d.tip.size.height+=i;if(d.tip.size.width%2>0)d.tip.size.width+=1;if(d.tip.size.height%2>0)d.tip.size.height+=1;if(d.tip.corner===c)d.tip.corner=j.options.position.corner.tooltip==="center"?b:j.options.position.corner.tooltip;return d}function J(d,b,a){var c={bottomRight:[[0,0],[b,a],[b,0]],bottomLeft:[[0,0],[b,0],[0,a]],topRight:[[0,a],[b,0],[b,a]],topLeft:[[0,0],[0,a],[b,a]],topMiddle:[[0,a],[b/2,0],[b,a]],bottomMiddle:[[0,0],[b,0],[b/2,a]],rightMiddle:[[0,0],[b,a/2],[0,a]],leftMiddle:[[b,0],[b,a],[0,a/2]]};c.leftTop=c.bottomRight;c.rightTop=c.bottomLeft;c.leftBottom=c.topRight;c.rightBottom=c.topLeft;return c[d]}function H(b){var c;if(a(j).get(0).getContext)c={topLeft:[b,b],topRight:[0,b],bottomLeft:[b,0],bottomRight:[0,0]};else if(a.browser.msie)c={topLeft:[-90,90,0],topRight:[-90,90,-b],bottomLeft:[90,270,0],bottomRight:[90,270,-b]};return c}function fb(){var a,c,b;a=this;b=a.getDimensions();c='<iframe class="qtip-bgiframe" frameborder="0" tabindex="-1" src="javascript:false" style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=\'0\'); border: 1px solid red; height:'+b.height+y+b.width+'px" />';a.elements.bgiframe=a.elements.wrapper.prepend(c).children(".qtip-bgiframe:first")}a(document).ready(function(){a.fn.qtip.cache={screen:{scroll:{left:a(window).scrollLeft(),top:a(window).scrollTop()},width:a(window).width(),height:a(window).height()}};var b;a(window).bind("resize scroll",function(d){clearTimeout(b);b=setTimeout(function(){if(d.type==="scroll")a.fn.qtip.cache.screen.scroll={left:a(window).scrollLeft(),top:a(window).scrollTop()};else{a.fn.qtip.cache.screen.width=a(window).width();a.fn.qtip.cache.screen.height=a(window).height()}for(i=0;i<a.fn.qtip.interfaces.length;i++){var b=a.fn.qtip.interfaces[i];b.status.rendered===c&&(b.options.position.type!==h||b.options.position.adjust.scroll&&d.type==="scroll"||b.options.position.adjust.resize&&d.type==="resize")&&b.updatePosition(d,c)}},100)});a(document).bind("mousedown.qtip",function(b){a(b.target).parents(K).length===0&&a(".qtip[unfocus]").each(function(){var c=a(this).qtip(k);a(this).is(z)&&!c.status.disabled&&a(b.target).add(c.elements.target).length>1&&c.hide(b)})})});a.fn.qtip.interfaces=[];a.fn.qtip.log={error:function(){return this}};a.fn.qtip.constants={};a.fn.qtip.defaults={content:{prerender:b,text:b,url:b,data:f,title:{text:b,button:b}},position:{target:b,corner:{target:"bottomRight",tooltip:"topLeft"},adjust:{x:0,y:0,mouse:c,screen:b,scroll:c,resize:c},type:"absolute",container:b},show:{when:{target:b,event:U},effect:{type:w,length:100},delay:140,solo:b,ready:b},hide:{when:{target:b,event:T},effect:{type:w,length:100},delay:0,fixed:b},api:{beforeRender:function(){},onRender:function(){},beforePositionUpdate:function(){},onPositionUpdate:function(){},beforeShow:function(){},onShow:function(){},beforeHide:function(){},onHide:function(){},beforeContentUpdate:function(){},onContentUpdate:function(){},beforeContentLoad:function(){},onContentLoad:function(){},beforeTitleUpdate:function(){},onTitleUpdate:function(){},beforeDestroy:function(){},onDestroy:function(){},beforeFocus:function(){},onFocus:function(){}}};a.fn.qtip.styles={defaults:{background:"white",color:"#111",overflow:C,textAlign:"left",width:{min:0,max:250},padding:"5px 9px",border:{width:1,radius:0,color:"#d3d3d3"},tip:{corner:b,color:b,size:{width:13,height:13},opacity:1},title:{background:"#e1e1e1",fontWeight:"bold",padding:"7px 12px"},button:{cursor:"pointer"},classes:{target:"",tip:"qtip-tip",title:"qtip-title",button:"qtip-button",content:"qtip-content",active:"qtip-active"}},cream:{border:{width:3,radius:0,color:"#F9E98E"},title:{background:"#F0DE7D",color:"#A27D35"},background:"#FBF7AA",color:"#A27D35",classes:{tooltip:"qtip-cream"}},light:{border:{width:3,radius:0,color:"#E2E2E2"},title:{background:"#f1f1f1",color:"#454545"},background:"white",color:"#454545",classes:{tooltip:"qtip-light"}},dark:{border:{width:3,radius:0,color:"#303030"},title:{background:"#404040",color:"#f3f3f3"},background:"#505050",color:"#f3f3f3",classes:{tooltip:"qtip-dark"}},red:{border:{width:3,radius:0,color:"#CE6F6F"},title:{background:"#f28279",color:"#9C2F2F"},background:"#F79992",color:"#9C2F2F",classes:{tooltip:"qtip-red"}},green:{border:{width:3,radius:0,color:"#A9DB66"},title:{background:"#b9db8c",color:"#58792E"},background:"#CDE6AC",color:"#58792E",classes:{tooltip:"qtip-green"}},blue:{border:{width:3,radius:0,color:"#ADD9ED"},title:{background:"#D0E9F5",color:"#5E99BD"},background:"#E5F6FE",color:"#4D9FBF",classes:{tooltip:"qtip-blue"}}}})(jQuery);