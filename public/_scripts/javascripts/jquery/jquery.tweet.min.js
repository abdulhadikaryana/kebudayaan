$(document).ready(function(){$(".tweet").tweet({username:"indtravel",join_text:"auto",avatar_size:25,count:5,auto_join_text_default:"",auto_join_text_ed:"",auto_join_text_ing:"",auto_join_text_reply:"",auto_join_text_url:"",loading_text:"loading tweets..."})});(function(a){a.fn.tweet=function(i){var e="http://",d="",c=null,b=a.extend({username:c,list:c,favorites:false,query:c,avatar_size:c,count:3,fetch:c,retweets:false,intro_text:c,outro_text:c,join_text:c,auto_join_text_default:d,auto_join_text_ed:d,auto_join_text_ing:d,auto_join_text_reply:d,auto_join_text_url:d,loading_text:c,refresh_interval:c,twitter_url:"twitter.com",twitter_api_url:"api.twitter.com",twitter_search_url:"search.twitter.com",template:"{avatar}{time}{text}",comparator:function(a,b){return b.tweet_time-a.tweet_time},filter:function(){return true}},i);a.fn.extend({linkUrl:function(){var b=[],c=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi;this.each(function(){b.push(this.replace(c,function(a){var b=/^[a-z]+:/i.test(a)?a:e+a;return'<a href="'+b+'">'+a+"</a>"}))});return a(b)},linkUser:function(){var c=[],d=/[\@]+(\w+)/gi;this.each(function(){c.push(this.replace(d,'@<a href="http://'+b.twitter_url+'/$1">$1</a>'))});return a(c)},linkHash:function(){var c=[],f=/(?:^| )[\#]+([\w\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u00ff\u0600-\u06ff]+)/gi,e=b.username?"&from="+b.username.join("%2BOR%2B"):d;this.each(function(){c.push(this.replace(f,' <a href="http://'+b.twitter_search_url+"/search?q=&tag=$1&lang=all"+e+'">#$1</a>'))});return a(c)},capAwesome:function(){var b=[];this.each(function(){b.push(this.replace(/\b(awesome)\b/gi,'<span class="awesome">$1</span>'))});return a(b)},capEpic:function(){var b=[];this.each(function(){b.push(this.replace(/\b(epic)\b/gi,'<span class="epic">$1</span>'))});return a(b)},makeHeart:function(){var b=[];this.each(function(){b.push(this.replace(/(&lt;)+[3]/gi,"<tt class='heart'>&#x2665;</tt>"))});return a(b)}});function g(a){return Date.parse(a.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3"))}function f(e){var c=arguments.length>1?arguments[1]:new Date,a=parseInt((c.getTime()-e)/1e3,10),b=d;if(a<60)b=a+" seconds ago";else if(a<120)b="a minute ago";else if(a<2700)b=parseInt(a/60,10).toString()+" minutes ago";else if(a<7200)b="an hour ago";else if(a<86400)b=d+parseInt(a/3600,10).toString()+" hours ago";else if(a<172800)b="a day ago";else b=parseInt(a/86400,10).toString()+" days ago";return"about "+b}function h(){var e="&callback=?",a="//",f="https:"==document.location.protocol?"https:":"http:",g=b.fetch===c?b.count:b.fetch;if(b.list)return f+a+b.twitter_api_url+"/1/"+b.username[0]+"/lists/"+b.list+"/statuses.json?per_page="+g+e;else if(b.favorites)return f+a+b.twitter_api_url+"/favorites/"+b.username[0]+".json?count="+b.count+e;else if(b.query===c&&b.username.length==1)return f+a+b.twitter_api_url+"/1/statuses/user_timeline.json?screen_name="+b.username[0]+"&count="+g+(b.retweets?"&include_rts=1":d)+e;else{var h=b.query||"from:"+b.username.join(" OR from:");return f+a+b.twitter_search_url+"/search.json?&q="+encodeURIComponent(h)+"&rpp="+g+e}}return this.each(function(q,i){var l="load",j="</p>",k=a('<ul class="tweet_list">').appendTo(i),o='<p class="tweet_intro">'+b.intro_text+j,p='<p class="tweet_outro">'+b.outro_text+j,m=a('<p class="loading">'+b.loading_text+j);if(b.username&&typeof b.username=="string")b.username=[b.username];var n=function(e){if(typeof b.template==="string"){var a=b.template;for(var f in e){var g=e[f];a=a.replace(new RegExp("{"+f+"}","g"),g===c?d:g)}return a}else return b.template(e)};b.loading_text&&a(i).append(m);a(i).bind(l,function(){a.getJSON(h(),function(q){b.loading_text&&m.remove();b.intro_text&&k.before(o);k.empty();var h=a.map(q.results||q,function(h){var k=b.join_text;if(b.join_text=="auto")if(h.text.match(/^(@([A-Za-z0-9-_]+)) .*/i))k=b.auto_join_text_reply;else if(h.text.match(/(^\w+:\/\/[A-Za-z0-9-_]+\.[A-Za-z0-9-_:%&\?\/.=]+) .*/i))k=b.auto_join_text_url;else if(h.text.match(/^((\w+ed)|just) .*/im))k=b.auto_join_text_ed;else if(h.text.match(/^(\w*ing) .*/i))k=b.auto_join_text_ing;else k=b.auto_join_text_default;var i=h.from_user||h.user.screen_name,w=h.source,m=e+b.twitter_url+"/"+i,l=b.avatar_size,r=h.profile_image_url||h.user.profile_image_url,u=e+b.twitter_url+"/"+i+"/status/"+h.id_str,n=typeof h.retweeted_status!="undefined",o=n?h.retweeted_status.user.screen_name:c,t=g(h.created_at),p=f(t),q=n?"RT @"+o+" "+h.retweeted_status.text:h.text,s=a([q]).linkUrl().linkUser().linkHash()[0],A='<a class="tweet_user" href="'+m+'">'+i+"</a>",x=b.join_text?'<span class="tweet_join"> '+k+" </span>":" ",v=l?'<a class="tweet_avatar" href="'+m+'"><img src="'+r+'" height="'+l+'" width="'+l+'" alt="'+i+'\'s avatar" title="'+i+'\'s avatar" border="0"/></a>':d,y='<p class="tweet_text">'+a([s]).makeHeart().capAwesome().capEpic()[0]+j,z='<span class="tweet_time"><a href="'+u+'" title="view tweet on twitter">'+p+"</a></span>";return{item:h,screen_name:i,user_url:m,avatar_size:l,avatar_url:r,source:w,tweet_url:u,tweet_time:t,tweet_relative_time:p,tweet_raw_text:q,tweet_text:s,retweet:n,retweeted_screen_name:o,user:A,join:x,avatar:v,text:y,time:z}});h=a.grep(h,b.filter).slice(0,b.count);k.append(a.map(h.sort(b.comparator),function(a){return"<li>"+n(a)+"</li>"}).join(d)).children("li:first").addClass("tweet_first").end().children("li:odd").addClass("tweet_even").end().children("li:even").addClass("tweet_odd");b.outro_text&&k.after(p);a(i).trigger("loaded").trigger(h.length===0?"empty":"full");b.refresh_interval&&window.setTimeout(function(){a(i).trigger(l)},1e3*b.refresh_interval)})}).trigger(l)})}})(jQuery);